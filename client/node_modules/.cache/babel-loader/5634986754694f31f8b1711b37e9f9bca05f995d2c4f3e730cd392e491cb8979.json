{"ast":null,"code":"var _jsxFileName = \"/Users/damely/Desktop/Development/code/frontend/weather-app-main/client/src/components/SearchBar.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport iconSearch from '../assets/images/icon-search.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchBar({\n  locationResults,\n  setLocationResults,\n  setSelectedLocation\n}) {\n  _s();\n  const [searchInput, setSearchInput] = React.useState('');\n  const fetchLocations = async location => {\n    const res = await fetch(`http://localhost:8000/api/search?name=${location}`);\n    const data = await res.json();\n    const seen = new Set();\n    const filteredRes = (data.results || []).filter(place => place.name.toLowerCase().includes(location.toLowerCase())).filter(place => {\n      if (seen.has(place.country_code)) return false;\n      seen.add(place.country_code);\n      return true;\n    }).map(place => ({\n      name: place.name,\n      country_code: place.country_code,\n      latitude: place.latitude,\n      longitude: place.longitude\n    }));\n    setLocationResults(filteredRes);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search for a place...\",\n      className: \"search-input\",\n      value: searchInput,\n      onChange: e => setSearchInput(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: iconSearch,\n      alt: \"Search Icon\",\n      className: \"search-icon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary search-button\",\n      type: \"button\",\n      onClick: () => fetchLocations(searchInput),\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), locationResults.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-group position-absolute w-100\",\n      style: {\n        zIndex: 1000\n      },\n      children: locationResults.map((location, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item list-group-item-action p-0\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-link w-100 text-start p-2\",\n          type: \"button\",\n          onClick: () => {\n            setSelectedLocation(location);\n            setLocationResults([]);\n            setSearchInput('');\n          },\n          children: [location.name, \", \", location.country_code]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchBar, \"6Eq05WFCbfVtzQf4MCSNdgDQaWk=\");\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","iconSearch","jsxDEV","_jsxDEV","SearchBar","locationResults","setLocationResults","setSelectedLocation","_s","searchInput","setSearchInput","useState","fetchLocations","location","res","fetch","data","json","seen","Set","filteredRes","results","filter","place","name","toLowerCase","includes","has","country_code","add","map","latitude","longitude","className","children","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","length","style","zIndex","index","_c","$RefreshReg$"],"sources":["/Users/damely/Desktop/Development/code/frontend/weather-app-main/client/src/components/SearchBar.tsx"],"sourcesContent":["import React from 'react';\nimport iconSearch from '../assets/images/icon-search.svg';\nimport { Location } from '../types/weather';\n\ninterface SearchBarProps {\n  locationResults: Location[];\n  setLocationResults: React.Dispatch<React.SetStateAction<Location[]>>;\n  setSelectedLocation: React.Dispatch<React.SetStateAction<Location | null>>;\n}\n\nfunction SearchBar({ locationResults, setLocationResults, setSelectedLocation }: SearchBarProps) {\n  const [searchInput, setSearchInput] = React.useState<string>('');\n\n  const fetchLocations = async (location: string) => {\n    const res = await fetch(`http://localhost:8000/api/search?name=${location}`);\n    const data = await res.json();\n\n    const seen = new Set<string>();\n    const filteredRes: Location[] = (data.results || [])\n      .filter((place: { name: string; country_code: string }) =>\n        place.name.toLowerCase().includes(location.toLowerCase())\n      )\n      .filter((place: { country_code: string }) => {\n        if (seen.has(place.country_code)) return false;\n        seen.add(place.country_code);\n        return true;\n      })\n      .map((place: { name: string; country_code: string; latitude: number; longitude: number }) => ({\n        name: place.name,\n        country_code: place.country_code,\n        latitude: place.latitude,\n        longitude: place.longitude,\n      }));\n\n    setLocationResults(filteredRes);\n  };\n\n  return (\n    <div className=\"search-container\">\n      <input type=\"text\" placeholder=\"Search for a place...\" className=\"search-input\" value={searchInput} onChange={(e) => setSearchInput(e.target.value)} />\n      <img src={iconSearch} alt=\"Search Icon\" className=\"search-icon\" />\n      <button className=\"btn btn-primary search-button\" type=\"button\" onClick={() => fetchLocations(searchInput)}>Search</button>\n      {locationResults.length > 0 && (\n        <ul className=\"list-group position-absolute w-100\" style={{ zIndex: 1000 }}>\n          {locationResults.map((location, index) => (\n            <li key={index} className=\"list-group-item list-group-item-action p-0\">\n              <button\n                className=\"btn btn-link w-100 text-start p-2\"\n                type=\"button\"\n                onClick={() => {\n                  setSelectedLocation(location);\n                  setLocationResults([]);\n                  setSearchInput('');\n                }}\n              >\n                {location.name}, {location.country_code}\n              </button>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default SearchBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}